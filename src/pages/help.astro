---
import MainLayout from "../layouts/MainLayout.astro";
import PostCard from "../components/PostCard.astro";

import { formatBlogPosts } from "../js/utils";

const allPosts = await Astro.glob("./blog/*.md");
const formattedPosts = formatBlogPosts(allPosts, {
  filterOnlyHelp: true,
});

const { posts } = Astro.props;
---

<MainLayout title="Помощь беженцам">
  <section class="container about" aria-label="About Me">
    <img src="/images/help.png" alt="about" width="200" height="330" />
    <div class="content">
      <h1 class="h1">Помощь Беженцам</h1>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio
        mollitia itaque voluptate quos sapiente, exercitationem quae soluta
        cupiditate molestias ullam, provident cum repellat vero deleniti quam ea
        fuga adipisci ratione ducimus dolore? Voluptatum omnis pariatur vero
        suscipit, modi itaque impedit?
      </p>
    </div>
  </section>
  <section class="container" aria-label="Help Posts">
    <div class="post-container">
      {
        formattedPosts.map((post) => (
          <PostCard
            frontmatter={post.frontmatter}
            url={post.url}
            tagType="h2"
          />
        ))
      }
    </div>
  </section>
</MainLayout>
